<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <title>iMapInvasives App</title>
  <link rel="stylesheet" href="css/jquery.mobile-1.3.1.css">
  
  <!-- Extra Codiqa features -->
  <link rel="stylesheet" href="css/codiqa.ext.css">
  
  <!-- jQuery and jQuery Mobile -->
  <script type="text/javascript" src="js/cordova-2.7.0.js"></script>
  <script type="text/javascript" src="js/jquery-1.10.1.js"></script>
  <script type="text/javascript" src="js/jquery.mobile-1.3.1.js"></script>
  <script type="text/javascript" src="js/json.js"></script>
  <script type="text/javascript" src="js/index.js"></script>
  <script type="text/javascript" src="js/observation.js"></script>
  <script type="text/javascript" src="js/prefs.js"></script>
  <script type="text/javascript" src="js/SQLitePlugin.js"></script>
  <script type="text/javascript" src="js/db.js"></script>
  <script type="text/javascript" src="js/photo.js"></script>
  <script type="text/javascript">
  var selected;
  var screenCon;
  var tab;
  	iMapApp.initialize();
  	function tabPhoto(){
  		selected = "<h2>Select or Take a Photo</h2><input onClick='previewPhoto()' type='file'  id='imageName' name='image' accept='image/*' capture><p><button onClick='getPhoto()'>Take Photo</button><img style='display:none;width:160px;height:200px;' id='largeImage' src='' />";
  		$('#head').empty();
  		$('#head').append($(selected)).trigger( "create" );
		tab='photo';
		$('#pic').addClass("ui-btn-active").trigger("create");
  	}
	function tabWhere(){
  		selected = "<h2>Your Location</h2><img src='https://maps.googleapis.com/maps/api/staticmap?center=Albany, NY&amp;zoom=10&amp;size=288x200&amp;markers=Albany,NY&amp;sensor=false'width='288' height='200'>";
  		$('#head').empty();
  		$('#head').append($(selected)).trigger( "create" );
  		tab='where';
	}
	function tabWhat(){
		selected = "<h2>What Species</h2><div data-role='fieldcontain' id='what'><label for='selectmenu1'>Choose:</label><select id='selectmenu1' name=''><option value='option1'>Specie 1</option><option value='value'>Specie 2</option></select></div>";
		$('#head').empty();
		$('#head').append($(selected)).trigger( "create" );
		tab='what';
	}
	function tabProject(){
		selected = "<h2>Project</h2><div data-role='fieldcontain' id='proj'><fieldset data-role='controlgroup' data-type='vertical'><legend>Is this entry part of a project?</legend><input id='radioYes' name='' value='yes' data-theme='c' type='radio'><label for='radioYes'>Yes</label><input id='radioNo' name='' value='radioNo' data-theme='c' type='radio'><label for='radioNo'>No</label></fieldset></div>";
		tab='project';
		$('#head').empty();
		$('#head').append($(selected)).trigger( "create" );
	}
	function tabWhen(){
		selected = "<h2>Date Recorded</h2><div data-role='fieldcontain' id='date'><label for='textinput1'>Date</label><input name='' id='textinput1' placeholder='' value='" + new Date().toLocaleString() + "' type='text'></div>";
		$('#head').empty();
		$('#head').append($(selected)).trigger( "create" );
		tab = 'when';
	}
	
	$("input[type='radio']").bind( "change", function(event, ui) {
		if($('#radioYes').val()=="yes"){
			screenCon="<div data-role='fieldcontain' id='what'><label for='selectmenu1'>Choose:</label><select id='selectmenu1' name=''><option value='option1'>Project 1</option><option value='value'>Project 2</option></select></div>";
			$('#content').empty();
			$('#content').append($(screenCon)).trigger("create");
		}
		if($('#radioYes').val()=="no"){
			screenCon="";
			$('#content').empty();
			$('#content').append($(screenCon)).trigger("create");
		}
	})
	
	$(document).on("swiperight", function(){
		  if(tab=="project"){
			  $('#proj').removeClass("ui-btn-active").trigger("create");
				$('#pic').addClass("ui-btn-active").trigger("create");
			  tabPhoto();
		  }
		  else if(tab=="what"){
			 
			  $('#wha').removeClass("ui-btn-active").trigger("create");
			$('#proj').addClass("ui-btn-active").trigger("create");
			  tabProject();
		  }
		  else if(tab=="when"){
			  $('#whe').removeClass("ui-btn-active").trigger("create");
			  $('#wha').addClass("ui-btn-active").trigger("create");
			  tabWhat();
		  }
		  else if(tab=="where"){
			  $('#wher').removeClass("ui-btn-active").trigger("create");
			  $('#whe').addClass("ui-btn-active").trigger("create");
			 tabWhen();
		  }
	})
	$(document).on("swipeleft", function(){
		  if(tab=="photo"){
			  $('#proj').addClass("ui-btn-active").trigger("create");
				$('#pic').removeClass("ui-btn-active").trigger("create");
			  tabProject();
		  }
		  else if(tab=="project"){
			  tabWhat();
			  $('#proj').removeClass("ui-btn-active").trigger("create");
				$('#wha').addClass("ui-btn-active").trigger("create");
		  }
		  else if(tab=="what"){
			  $('#wha').removeClass("ui-btn-active").trigger("create");
				$('#whe').addClass("ui-btn-active").trigger("create");
			  tabWhen();
		  }
		  else if(tab=="when"){
			  $('#whe').removeClass("ui-btn-active").trigger("create");
				$('#wher').addClass("ui-btn-active").trigger("create");
			  tabWhere();
		  }
	  })
 	
    </script>
</head>
<body>
<div data-role="page" id="page1">

<div data-theme="a" data-role="header">
        <span class="ui-title">
            <img src="http://imapinvasives.org/images/header.gif" style="width:99.5%; height: 60px; position:absolute; TOP:0px; LEFT:0px">
            
        </span>
            
       
        <div id="navi" data-role="navbar" data-iconpos="left">
            <ul>
                <li>
                    <a id="pic" href="#page1" data-transition="none" data-theme=""   onClick="tabPhoto()">
                       Photo
                    </a>
                </li>
                <li>
                    <a id="proj" href="#page1" data-transition="none" data-theme="" onClick="tabProject()">
                        Project
                    </a>
                </li>
                <li>
                    <a href="#page1" id="wha" data-transition="fade" data-theme="" onClick="tabWhat()">
                        What
                    </a>
                </li>
                <li>
                    <a href="#page1" id="whe" data-transition="none" data-theme="" onClick="tabWhen()">
                        When
                    </a>
                </li>
                <li>
                    <a href="#page1" id="wher" data-transition="none" data-theme=""  onClick="tabWhere()">
                       Where
                    </a>
                </li>
            </ul>
        </div>
        </div>
         
        <div data-role="content">
        
        <div id=head></div>
        <div id=content></div>
        
        </div>
    </div>
</body>
</html>
